<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MMA Scorecard</title>
  <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
  <div class="container">
    <h1>MMA Fight Scorecard</h1>
    <div class="fighter-inputs">
      <input type="text" id="fighter1-name" placeholder="Enter Fighter 1 Name">
      <input type="text" id="fighter2-name" placeholder="Enter Fighter 2 Name">
      <select id="rounds-selection">
        <option value="3">3 Rounds</option>
        <option value="5">5 Rounds</option>
        <option value="12">12 Rounds</option>
      </select>
      <button id="lock-in-btn">Lock In</button>
    </div>
    <div class="scorecard" id="scorecard" style="display:none;">
      <div class="fighter" id="fighter1">
        <h2 id="fighter1-display"></h2>
        <div class="controls" id="fighter1-rounds"></div>
        <h3>Total: <span id="f1-total">0</span></h3>
      </div>
      <div class="fighter" id="fighter2">
        <h2 id="fighter2-display"></h2>
        <div class="controls" id="fighter2-rounds"></div>
        <h3>Total: <span id="f2-total">0</span></h3>
      </div>
      <button id="next-round-btn" style="display:none;">Next Round</button>
    </div>
    <div class="winner-display" style="display:none;">
      <button id="calculate-btn">Calculate Winner</button>
      <h2 id="winner">Winner: </h2>
    </div>
  </div>

  <script>
    let currentRound = 1;
    let totalRounds = 0;

    document.getElementById('lock-in-btn').addEventListener('click', function() {
      const fighter1Name = document.getElementById('fighter1-name').value;
      const fighter2Name = document.getElementById('fighter2-name').value;
      totalRounds = parseInt(document.getElementById('rounds-selection').value);

      document.getElementById('fighter1-display').innerText = fighter1Name;
      document.getElementById('fighter2-display').innerText = fighter2Name;

      document.getElementById('fighter1-name').disabled = true;
      document.getElementById('fighter2-name').disabled = true;
      document.getElementById('rounds-selection').disabled = true;
      document.getElementById('lock-in-btn').disabled = true;

      document.getElementById('scorecard').style.display = 'block';
      document.getElementById('next-round-btn').style.display = 'block';

      setupRounds();
    });

    function setupRounds() {
      for (let i = 1; i <= totalRounds; i++) {
        const f1RoundInput = document.createElement('input');
        f1RoundInput.type = 'number';
        f1RoundInput.className = 'round-input';
        f1RoundInput.id = `f1r${i}`;
        f1RoundInput.min = 0;
        f1RoundInput.max = 10;
        f1RoundInput.style.display = 'none';
        document.getElementById('fighter1-rounds').appendChild(f1RoundInput);

        const f2RoundInput = document.createElement('input');
        f2RoundInput.type = 'number';
        f2RoundInput.className = 'round-input';
        f2RoundInput.id = `f2r${i}`;
        f2RoundInput.min = 0;
        f2RoundInput.max = 10;
        f2RoundInput.style.display = 'none';
        document.getElementById('fighter2-rounds').appendChild(f2RoundInput);
      }

      document.getElementById(`f1r${currentRound}`).style.display = 'block';
      document.getElementById(`f2r${currentRound}`).style.display = 'block';
    }

    document.getElementById('next-round-btn').addEventListener('click', function() {
      const f1RoundScore = parseInt(document.getElementById(`f1r${currentRound}`).value) || 0;
      const f2RoundScore = parseInt(document.getElementById(`f2r${currentRound}`).value) || 0;

      document.getElementById(`f1r${currentRound}`).disabled = true;
      document.getElementById(`f2r${currentRound}`).disabled = true;

      const f1Total = parseInt(document.getElementById('f1-total').innerText) + f1RoundScore;
      const f2Total = parseInt(document.getElementById('f2-total').innerText) + f2RoundScore;

      document.getElementById('f1-total').innerText = f1Total;
      document.getElementById('f2-total').innerText = f2Total;

      currentRound++;
      if (currentRound <= totalRounds) {
        document.getElementById(`f1r${currentRound}`).style.display = 'block';
        document.getElementById(`f2r${currentRound}`).style.display = 'block';
      } else {
        document.getElementById('next-round-btn').style.display = 'none';
        document.getElementById('winner-display').style.display = 'block';
      }
    });

    document.getElementById('calculate-btn').addEventListener('click', function() {
      const f1Total = parseInt(document.getElementById('f1-total').innerText);
      const f2Total = parseInt(document.getElementById('f2-total').innerText);

      if (f1Total > f2Total) {
        document.getElementById('winner').innerText = 'Winner: ' + document.getElementById('fighter1-display').innerText;
      } else if (f2Total > f1Total) {
        document.getElementById('winner').innerText = 'Winner: ' + document.getElementById('fighter2-display').innerText;
      } else {
        document.getElementById('winner').innerText = 'Winner: Draw';
      }
    });
  </script>
</body>
</html>
