---
layout: default
title: Vegas Slots
---
<center>
    <h2>Vegas Slots!</h2>
    <p><font color="#FFFFFF">Spin the Reels, Feel the Fight!</font></p>
</center>
<div class="slot-machine-container">
    <div class="vegas-sign">SPIN KICK!</div>
    <div class="reels">
        <div class="reel" id="reel1"><img src="/assets/symbol1.png" alt="Symbol 1"></div>
        <div class="reel" id="reel2"><img src="/assets/symbol2.png" alt="Symbol 2"></div>
        <div class="reel" id="reel3"><img src="/assets/symbol3.png" alt="Symbol 3"></div>
    </div>
    <select id="bet-amount">
        <option value="10">Bet 10 Cash</option>
        <option value="20">Bet 20 Cash</option>
    </select>
    <div class="lever-container">
        <div class="slot-lever" id="spin-lever"></div>
    </div>
    <div id="cash">Cash: 100</div>
    <div id="high-score">High Score: 0</div>
    <div id="result"></div>
    <marquee id="jackpot-marquee" style="display: none;">JACKPOT! YOU WIN BIG!</marquee>
    <audio id="spin-sound1">
        <source src="/assets/slotpull1.m4a" type="audio/mp4">
        <source src="/assets/slotpull1.mp3" type="audio/mpeg">
    </audio>
    <audio id="spin-sound2">
        <source src="/assets/slotpull2.m4a" type="audio/mp4">
        <source src="/assets/slotpull2.mp3" type="audio/mpeg">
    </audio>
    <audio id="reel-stop" src="/assets/reel_stop.mp3">
        <source type="audio/mpeg">
    </audio>
    <audio id="win-sound">
        <source src="/assets/win.m4a" type="audio/mp4">
        <source src="/assets/win.mp3" type="audio/mpeg">
    </audio>
    <audio id="jackpot-sound">
        <source src="/assets/jackpot.m4a" type="audio/mp4">
        <source src="/assets/jackpot.mp3" type="audio/mpeg">
    </audio>
    <button id="gamble-button" style="display: none;">Double or Nothing?</button>
    <button id="sound-toggle">Toggle Sound</button>
</div>
<div id="confetti"></div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const reels = ['reel1', 'reel2', 'reel3'].map(id => document.getElementById(id));
        const spinLever = document.getElementById('spin-lever');
        const betAmount = document.getElementById('bet-amount');
        const cashDisplay = document.getElementById('cash');
        const highScoreDisplay = document.getElementById('high-score');
        const resultDisplay = document.getElementById('result');
        const jackpotMarquee = document.getElementById('jackpot-marquee');
        const confettiContainer = document.getElementById('confetti');
        const gambleButton = document.getElementById('gamble-button');
        const sounds = {
            spin1: document.getElementById('spin-sound1'),
            spin2: document.getElementById('spin-sound2'),
            reelStop: document.getElementById('reel-stop'),
            win: document.getElementById('win-sound'),
            jackpot: document.getElementById('jackpot-sound')
        };
        const soundToggle = document.getElementById('sound-toggle');
        let cash = 100;
        let highScore = 0;
        let isMuted = false;
        let currentWinnings = 0;

        function updateCash() { cashDisplay.textContent = `Cash: ${cash}`; }
        function updateHighScore() { highScoreDisplay.textContent = `High Score: ${highScore}`; }

        async function spinReel(reel) {
            reel.classList.add('spinning');
            const spinCount = 15 + Math.floor(Math.random() * 5);
            const images = ['/assets/symbol1.png', '/assets/symbol2.png', '/assets/symbol3.png'];
            for (let i = 0; i < spinCount; i++) {
                reel.querySelector('img').src = images[Math.floor(Math.random() * images.length)];
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            reel.classList.remove('spinning');
            if (!isMuted) sounds.reelStop.currentTime = 0; sounds.reelStop.play();
        }

        function createConfetti() {
            confettiContainer.innerHTML = '';
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = `-${Math.random() * 10}%`;
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                confetti.style.backgroundColor = ['#FF4040', '#FF00FF', '#A00000'][Math.floor(Math.random() * 3)];
                confettiContainer.appendChild(confetti);
            }
            setTimeout(() => confettiContainer.innerHTML = '', 3000);
        }

        function toggleSound() {
            isMuted = !isMuted;
            Object.values(sounds).forEach(sound => sound.muted = isMuted);
            soundToggle.textContent = isMuted ? 'Unmute Sound' : 'Toggle Sound';
        }

        function gamble() {
            if (Math.random() < 0.5) {
                cash += currentWinnings;
                resultDisplay.textContent = `Gamble Won! +${currentWinnings} Cash!`;
            } else {
                currentWinnings = 0;
                resultDisplay.textContent = 'Gamble Lost! Better Luck Next Time!';
            }
            updateCash();
            gambleButton.style.display = 'none';
        }

        spinLever.addEventListener('click', async () => {
            const bet = parseInt(betAmount.value);
            if (cash >= bet && !spinLever.classList.contains('disabled')) {
                cash -= bet;
                updateCash();
                spinLever.classList.add('disabled');
                resultDisplay.textContent = '';
                jackpotMarquee.style.display = 'none';
                document.querySelector('.slot-machine-container').classList.remove('win');
                if (!isMuted) {
                    sounds.spin1.currentTime = 0;
                    sounds.spin1.play();
                    setTimeout(() => {
                        sounds.spin2.currentTime = 0;
                        sounds.spin2.play();
                    }, 500);
                }

                await Promise.all(reels.map(spinReel));
                spinLever.classList.add('released');
                setTimeout(() => spinLever.classList.remove('released', 'disabled'), 500);

                const results = reels.map(reel => reel.querySelector('img').src);
                if (results.every(src => src === results[0])) {
                    const multiplier = results[0].includes('symbol1') ? 15 : results[0].includes('symbol2') ? 5 : 3;
                    currentWinnings = bet * multiplier;
                    cash += currentWinnings;
                    resultDisplay.textContent = multiplier === 15 ? `JACKPOT! +${currentWinnings} Cash!` : `WIN! +${currentWinnings} Cash!`;
                    jackpotMarquee.style.display = multiplier === 15 ? 'block' : 'none';
                    if (!isMuted) {
                        (multiplier === 15 ? sounds.jackpot : sounds.win).currentTime = 0;
                        (multiplier === 15 ? sounds.jackpot : sounds.win).play();
                    }
                    if (multiplier === 15) createConfetti();
                    document.querySelector('.slot-machine-container').classList.add('win');
                    if (currentWinnings > 0) {
                        gambleButton.style.display = 'inline-block';
                        gambleButton.disabled = false;
                    }
                    highScore = Math.max(highScore, currentWinnings);
                    updateHighScore();
                } else {
                    resultDisplay.textContent = 'Try Again!';
                    if (Math.random() < 0.01) {
                        resultDisplay.textContent = 'Bonus Spin Awarded!';
                        setTimeout(() => spinLever.click(), 1000);
                    }
                }
                updateCash();
            } else if (cash < bet) {
                resultDisplay.textContent = 'Not enough cash!';
            }
        });

        gambleButton.addEventListener('click', () => {
            gamble();
            gambleButton.disabled = true;
        });

        soundToggle.addEventListener('click', toggleSound);
    });
</script>
<style>
    .lever-container {
        display: flex;
        justify-content: center;
        margin: 10px 0;
    }
</style>
